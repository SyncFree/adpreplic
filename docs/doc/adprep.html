<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Module adprep</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module adprep</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>Provides operations required in a database.

<p><b>Version:</b> 1.0.0</p>
<p><b>Behaviours:</b> <a href="gen_server.html"><tt>gen_server</tt></a>.</p>
<p><b>Authors:</b> Amadeo Asco.</p>
<p><b>References</b><ul><li>Project <a href="https://syncfree.lip6.fr/">SyncFree</a></li><li>More courses at <a href="http://www.trifork.com">Trifork Leeds</a></li></ul></p>

<h2><a name="description">Description</a></h2>Provides operations required in a database.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#code_change-3">code_change/3</a></td><td>Does nothing.</td></tr>
<tr><td valign="top"><a href="#create-1">create/1</a></td><td>Creates the local replica only.</td></tr>
<tr><td valign="top"><a href="#create-2">create/2</a></td><td>Creates the local replica only.</td></tr>
<tr><td valign="top"><a href="#create-4">create/4</a></td><td>Creates the replica locally and creates other replicas if the startegy requires.</td></tr>
<tr><td valign="top"><a href="#delete-1">delete/1</a></td><td>Deletes an entry from within all the DCs with replica.</td></tr>
<tr><td valign="top"><a href="#getNumReplicas-1">getNumReplicas/1</a></td><td>Gets the number of replicas.</td></tr>
<tr><td valign="top"><a href="#handle_call-3">handle_call/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_cast-2">handle_cast/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_info-2">handle_info/2</a></td><td>Does nothing.</td></tr>
<tr><td valign="top"><a href="#hasReplica-1">hasReplica/1</a></td><td>Checks if there is a local replica.</td></tr>
<tr><td valign="top"><a href="#init-1">init/1</a></td><td>Initialises the process and start the process.</td></tr>
<tr><td valign="top"><a href="#read-1">read/1</a></td><td>Reads specified entry.</td></tr>
<tr><td valign="top"><a href="#remove-1">remove/1</a></td><td>Removes the local entry.</td></tr>
<tr><td valign="top"><a href="#remove-3">remove/3</a></td><td>Removes the local entry if the conditios are apropiated, which is check by calling
         function VerifyRemove with the record associated to the passed key and the passed
         arguments.</td></tr>
<tr><td valign="top"><a href="#start-0">start/0</a></td><td>Start the server.</td></tr>
<tr><td valign="top"><a href="#stop-0">stop/0</a></td><td>Stops the server asynchronously.</td></tr>
<tr><td valign="top"><a href="#terminate-2">terminate/2</a></td><td>Does nothing.</td></tr>
<tr><td valign="top"><a href="#update-2">update/2</a></td><td>Updates the specified value into the local data and forward update messages to the
         other DCs with replicas.</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="code_change-3">code_change/3</a></h3>
<div class="spec">
<p><tt>code_change(PreviousVersion, State, Extra) -&gt; Result::tuple()</tt><br></p>
</div><p>Does nothing. No change planned yet.</p>

<h3 class="function"><a name="create-1">create/1</a></h3>
<div class="spec">
<p><tt>create(Key::atom()) -&gt; Result::tuple()</tt><br></p>
</div><p>Creates the local replica only. The value for the specified key must already
         exists in another DC. The result may have the values {ok} or {error, ErrorCode}.</p>

<h3 class="function"><a name="create-2">create/2</a></h3>
<div class="spec">
<p><tt>create(Key::atom(), Value) -&gt; Result::tuple()</tt><br></p>
</div><p>Creates the local replica only. The result may have the values {ok} or
         {error, ErrorCode}.</p>

<h3 class="function"><a name="create-4">create/4</a></h3>
<div class="spec">
<p><tt>create(Key::atom(), Value, NextDCFunc::function(), Args) -&gt; Result::tuple()</tt><br></p>
</div><p><p>Creates the replica locally and creates other replicas if the startegy requires.        
The result may have the values {ok} or {error, ErrorCode}.</p>
 
         NextDCFunc is a function which must take three arguments; the current DC, a list
         of DCs and its own Args. Such function must return a tuple composed of the list
         of DCs to replicate and another list of potential DCs to replicate. If any
         replication to a DC from the list of DCs to replicate in failes a DC from the
         potential list will be used instead.</p>

<h3 class="function"><a name="delete-1">delete/1</a></h3>
<div class="spec">
<p><tt>delete(Key::atom()) -&gt; Result::tuple()</tt><br></p>
</div><p>Deletes an entry from within all the DCs with replica. The result is {ok} on
         success or {error, ErrorCode} otherwise.</p>

<h3 class="function"><a name="getNumReplicas-1">getNumReplicas/1</a></h3>
<div class="spec">
<p><tt>getNumReplicas(Key::atom()) -&gt; Result::integer()</tt><br></p>
</div><p>Gets the number of replicas.</p>

<h3 class="function"><a name="handle_call-3">handle_call/3</a></h3>
<div class="spec">
<p><tt>handle_call(X1, From, X3) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_cast-2">handle_cast/2</a></h3>
<div class="spec">
<p><tt>handle_cast(X1, X2) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_info-2">handle_info/2</a></h3>
<div class="spec">
<p><tt>handle_info(Msg, LoopData) -&gt; {noreply, LoopData}</tt><br></p>
</div><p>Does nothing.</p>

<h3 class="function"><a name="hasReplica-1">hasReplica/1</a></h3>
<div class="spec">
<p><tt>hasReplica(Key::atom()) -&gt; Result::boolean()</tt><br></p>
</div><p>Checks if there is a local replica. The result may have the values {yes} or
         {no}.</p>

<h3 class="function"><a name="init-1">init/1</a></h3>
<div class="spec">
<p><tt>init(X1::[]) -&gt; {ok, LoopData::tuple()}</tt><br></p>
</div><p>Initialises the process and start the process.</p>

<h3 class="function"><a name="read-1">read/1</a></h3>
<div class="spec">
<p><tt>read(Key::atom()) -&gt; Result::tuple()</tt><br></p>
</div><p>Reads specified entry. The result may have the values {ok, Value} or
         {error, ErrorCode}.</p>

<h3 class="function"><a name="remove-1">remove/1</a></h3>
<div class="spec">
<p><tt>remove(Key::atom()) -&gt; Result::tuple()</tt><br></p>
</div><p>Removes the local entry. The result may have the values {ok} or
         {error, ErrorCode}.</p>

<h3 class="function"><a name="remove-3">remove/3</a></h3>
<div class="spec">
<p><tt>remove(Key::atom(), VerifyRemove::function(), Args) -&gt; Result::tuple()</tt><br></p>
</div><p>Removes the local entry if the conditios are apropiated, which is check by calling
         function VerifyRemove with the record associated to the passed key and the passed
         arguments. The result may have the values {ok}, {ok, failed_verification} or
         {error, ErrorCode}.</p>

<h3 class="function"><a name="start-0">start/0</a></h3>
<div class="spec">
<p><tt>start() -&gt; Result</tt><br></p>
</div><p><p>Start the server.</p>
 
       Result = {ok, Pid::pid()} | ignore | {error, Error} with
         Error = {already_started, Pid} | term()</p>

<h3 class="function"><a name="stop-0">stop/0</a></h3>
<div class="spec">
<p><tt>stop() -&gt; {ok}</tt><br></p>
</div><p>Stops the server asynchronously.</p>

<h3 class="function"><a name="terminate-2">terminate/2</a></h3>
<div class="spec">
<p><tt>terminate(Reason, LoopData) -&gt; ok</tt><br></p>
</div><p>Does nothing.</p>

<h3 class="function"><a name="update-2">update/2</a></h3>
<div class="spec">
<p><tt>update(Key::atom(), Value) -&gt; Result::<a href="#type-typle">typle()</a></tt><br></p>
</div><p>Updates the specified value into the local data and forward update messages to the
         other DCs with replicas. The result may have the values {ok} or
         {error, ErrorCode}.</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Dec 14 2014, 21:38:04.</i></p>
</body>
</html>
